# 更新日志

本文档详细记录了 Italian Brainrot 游戏门户项目的所有重要变更，包括每个决策背后的原因（类似于架构决策记录 ADR）。

## 目录

- [UI 和布局变更](#ui-和布局变更)
- [组件样式](#组件样式)
- [SEO 优化](#seo-优化)
- [部署配置](#部署配置)
- [性能优化](#性能优化)
- [内容管理](#内容管理)
- [移动端响应式](#移动端响应式)

## 版本历史

| 版本 | 日期 | 描述 |
|------|------|------|
| v0.1.0 | 2025-05-07 上午 | 项目初始化，基本框架搭建，数据结构设计 |
| v0.2.0 | 2025-05-07 中午 | 首页布局实现，基础组件开发，图像处理优化 |
| v0.3.0 | 2025-05-07 下午 | 游戏页面和博客功能实现，UI 元素样式优化 |
| v0.4.0 | 2025-05-07 晚上 | SEO 优化和性能改进，结构化数据实现 |
| v0.5.0 | 2025-05-08 凌晨 | 移动端响应式优化，排版和布局调整 |
| v0.6.0 | 2025-05-08 上午 | GitHub Pages 部署配置，Next.js 配置优化 |
| v0.7.0 | 2025-05-08 中午 | 内容更新和 bug 修复，仓库管理优化 |
| v0.8.0 | 2025-05-08 下午 | 最终优化和发布准备，代码优化 |
| v1.0.0 | 2025-05-08 晚上 | 正式版本发布 |

## UI 和布局变更

### 首页布局重新设计 (2025-05-07 中午)

**变更：**
- 实现了左侧垂直游戏轮播（VerticalGameMarquee）和右侧文章轮播（ArticleCarousel）的分栏布局
- 添加了响应式设计，在移动设备上切换为垂直布局
- 从 games.json 和 blog.json 集成动态数据，替代硬编码值

**原因：**
- 分栏布局提供更好的内容组织和视觉层次结构
- 动态数据集成提高了可维护性，便于内容更新
- 响应式设计确保在不同设备尺寸上获得最佳用户体验

### 页眉和页脚修改 (2025-05-07 中午)

**变更：**
- 在桌面端使用 long_logo.png 替换页眉标题，在移动端使用 logo.png
- 减少页脚高度和间距，使布局更紧凑
- 添加了指向重要部分的导航链接

**原因：**
- 通过正确的 logo 使用提高品牌一致性和识别度
- 紧凑的页脚设计为实际内容提供更多空间
- 清晰的导航改善用户体验和网站可发现性

### 背景实现 (2025-05-07 上午)

**变更：**
- 使用 bg-body.png 作为整个网站的平铺背景
- 添加背景图像预加载，防止页面刷新时出现白色闪烁
- 使用 CSS 确保背景外观一致

**原因：**
- 一致的背景创造了整个网站的视觉连贯性
- 预加载防止导航过程中出现突兀的视觉过渡
- 平铺背景比大型全屏图像更高效

## 组件样式

### 游戏卡片增强 (2025-05-07 下午)

**变更：**
- 减少了 VerticalGameMarquee 中卡片之间的间距
- 增加了卡片高度和整体组件高度
- 实现了悬停效果，仅图像缩放同时被容器裁剪
- 添加了粗体标题、游戏描述和容器边缘的适当间距

**原因：**
- 减少间距使更多内容同时可见
- 悬停效果提供视觉反馈并改善交互性
- 一致的排版和间距提高了可读性和视觉吸引力

### UI 元素样式 (2025-05-07 下午)

**变更：**
- 为标题和播放按钮添加了磨砂玻璃效果叠加层
- 增加了字体和按钮尺寸以提高可见性
- 实现了播放按钮的悬停效果，悬停时放大
- 在章节标题前添加了小红条

**原因：**
- 磨砂玻璃叠加层提高了不同背景图像上的文本可读性
- 更大的 UI 元素提高了可用性，尤其是在触摸设备上
- 悬停效果提供视觉反馈并提高感知响应性
- 一致的样式元素在整个网站上创造视觉连贯性

### 图像处理 (2025-05-07 中午)

**变更：**
- 为游戏图像实现了 16:9 的宽高比
- 对封面图像使用 object-contain 样式而非拉伸
- 在热门游戏卡片的左上角添加了评分徽章

**原因：**
- 一致的宽高比创造了网站的视觉和谐
- object-contain 防止图像失真同时确保完全可见
- 评分徽章提供了一目了然的重要信息

## SEO 优化

### 元数据实现 (2025-05-07 晚上)

**变更：**
- 为所有页面添加了全面的 SEO 元数据
- 在 seo-config.ts 中实现了集中式生成逻辑
- 添加了适当的 Open Graph 和 Twitter 卡片元数据

**原因：**
- 全面的元数据提高了搜索引擎可见性
- 集中式生成逻辑确保一致性和更容易的维护
- 社交媒体元数据改善了分享外观和点击率

### 结构化数据 (2025-05-07 晚上)

**变更：**
- 为游戏和博客文章实现了 JSON-LD 结构化数据
- 为 VideoGame 和 Article 类型添加了适当的 schema.org 标记

**原因：**
- 结构化数据帮助搜索引擎理解内容上下文
- 适当的标记可以在搜索引擎结果页面中启用富结果
- Schema.org 标准确保与主要搜索引擎的兼容性

### 技术 SEO (2025-05-07 晚上)

**变更：**
- 添加了 sitemap.xml 和 robots.txt 生成
- 实现了适当的规范 URL
- 添加了多种 favicon 尺寸和完整的 site.webmanifest 文件

**原因：**
- 网站地图帮助搜索引擎发现和索引内容
- 规范 URL 防止重复内容问题
- 适当的 favicon 实现提高了跨设备和浏览器的品牌识别度

## 部署配置

### GitHub Pages 设置 (2025-05-08 上午)

**变更：**
- 配置使用 gh-pages 分支部署到 GitHub Pages
- 添加 .nojekyll 文件以防止 Jekyll 处理
- 更新资源路径，包含仓库名称前缀以正确解析

**原因：**
- GitHub Pages 提供免费可靠的托管服务
- 防止 Jekyll 处理确保 Next.js 静态导出正常工作
- 适当的资源路径配置防止资源出现 404 错误

### Next.js 配置 (2025-05-08 上午)

**变更：**
- 在 next.config.js 中设置 output: 'export' 用于静态站点生成
- 配置 assetPrefix 和 basePath 以兼容 GitHub Pages
- 设置 images.unoptimized: true 以配合静态导出

**原因：**
- 静态站点生成提高性能并简化托管
- 适当的配置确保资源被正确引用
- 使用 Next.js 静态导出需要未优化图像设置

### 仓库管理 (2025-05-08 中午)

**变更：**
- 更新 GitHub 远程仓库 URL
- 配置终端设置以支持多个 GitHub 账户
- 移除不再需要的自定义域名配置

**原因：**
- 适当的仓库配置确保部署工作流程顺畅
- 多账户设置允许不同团队成员灵活贡献
- 移除未使用的配置简化维护

## 性能优化

### 图像优化 (2025-05-07 晚上)

**变更：**
- 实现了适当的图像尺寸和格式
- 为关键图像添加了加载优先级
- 使用 next/image 组件进行自动优化

**原因：**
- 适当的图像优化改善页面加载时间
- 优先加载关键图像提高感知性能
- Next.js 图像组件提供自动响应式尺寸和格式选择

### 资源预加载 (2025-05-07 晚上)

**变更：**
- 为背景图像等关键资源添加预加载
- 实现 no-flash.css 以防止页面加载期间白色闪烁
- 通过 next/font 使用字体优化

**原因：**
- 预加载关键资源改善初始加载体验
- 防止未样式化内容闪烁改善用户体验
- 字体优化防止布局偏移并提高性能

### 代码优化 (2025-05-08 下午)

**变更：**
- 实现了客户端/服务器组件分离
- 尽可能使用静态生成页面
- 添加了适当的缓存策略，使用 revalidate: false

**原因：**
- 适当的组件分离改善包大小和加载性能
- 静态生成提供最快的页面加载
- 适当的缓存减少服务器负载并提高响应时间

## 内容管理

### 数据结构 (2025-05-07 上午)

**变更：**
- 为游戏和博客内容实现了结构化 JSON 数据文件
- 为不同内容类型创建了一致的数据模式
- 为数据结构添加了适当的类型定义

**原因：**
- 结构化数据提高可维护性和一致性
- 一致的模式使添加新内容更容易
- TypeScript 类型定义防止错误并改善开发体验

### 博客功能 (2025-05-07 下午)

**变更：**
- 在 blog.json 中实现了 SEO 友好的博客内容存储
- 从 blog.json 字段添加了动态作者信息
- 用游戏推荐替换了相关文章推荐

**原因：**
- 基于 JSON 的内容存储简化了内容管理
- 动态作者信息提高内容可信度
- 游戏推荐创造交叉推广机会

### 游戏页面 (2025-05-07 下午)

**变更：**
- 在游戏播放页面顶部实现了全宽 iframe 播放器
- 添加了游戏封面、标题/描述和元数据部分
- 从 games.json 动态填充游戏信息

**原因：**
- 全宽播放器提供最佳游戏体验
- 全面的游戏信息提高用户参与度
- 动态数据填充确保一致性并减少维护

## 移动端响应式

### 移动端布局 (2025-05-08 凌晨)

**变更：**
- 实现了移动端特定布局，顶部是文章轮播，下方是水平游戏轮播
- 在首页和游戏页面添加了适当的内边距
- 在移动端为封面图像使用了 object-contain 样式

**原因：**
- 移动端优化布局提高了在小屏幕上的可用性
- 适当的内边距提高了可读性和触摸目标尺寸
- object-contain 防止在不同屏幕尺寸上裁剪图像

### 排版调整 (2025-05-08 凌晨)

**变更：**
- 为移动端实现了较小的字体大小
- 为溢出文本添加了带省略号的两行显示
- 调整了移动端屏幕的间距和边距

**原因：**
- 适当的排版提高了小屏幕上的可读性
- 溢出省略号确保重要信息保持可见
- 适当的间距提高了触摸可用性

### 响应式组件 (2025-05-08 凌晨)

**变更：**
- 创建了 ResponsiveStyles 组件用于全局响应式变量
- 为移动端轮播实现了宽高比调整
- 添加了移动端特定的导航和 UI 元素

**原因：**
- 集中式响应式变量提高一致性
- 宽高比调整确保在各种设备上正确显示内容
- 移动端特定 UI 元素提高触摸设备上的可用性
